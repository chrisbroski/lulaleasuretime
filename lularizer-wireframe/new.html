<!doctype html>
<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
<meta name="apple-mobile-web-app-capable" content="yes">
<title>False Camera</title>
<link rel="stylesheet" type="text/css" href="main.css">
<style>
html, footer {
    background: black;
}
#fakeCamera {
    margin-left: -10%;
    margin-top: -10%;
    width: 120%;
    max-width: 120%;
}
#photoGuide {
    position: absolute;
    margin-left: -50px;
    margin-top: -100px;
    top: 40%; left: 50%;
    border: 2px dashed yellow;
    width: 100px; height: 100px;
}
#photoView {
    overflow: hidden;
}
</style>

<article>
<div id="photoView">
<img src="album/IMG_0094.jpg" id="fakeCamera" alt="photo">
</div>
<div id="photoGuide"></div>
</article>

<footer>
<p><button onclick="history.back()">Cancel</button>
    <button onclick="goToEdit()">Take photo</button>
</footer>

<script>
var stockPhotos = ['IMG_0092.jpg', 'IMG_0094.jpg', 'IMG_0096.jpg', 'IMG_0104.jpg', 'IMG_0106.jpg', 'IMG_0204.jpg', 'IMG_0205.jpg', 'IMG_0206.jpg'];

function goToEdit() {
    var img = document.getElementById('fakeCamera');
    location = 'edit?file=' + img.src.slice(img.src.lastIndexOf('/') + 1);
}

function wiggle() {
    var x = (Math.random() - 10).toFixed(2) + '%',
        y = (Math.random() - 10).toFixed(2) + '%';

    document.getElementById('fakeCamera').style.marginLeft = x;
    document.getElementById('fakeCamera').style.marginTop = y;
    window.setTimeout(wiggle, 200);
}

function randomPhoto() {
    document.getElementById('fakeCamera').src = 'album/' + stockPhotos[Math.floor(Math.random() * stockPhotos.length)];
    window.setTimeout(wiggle, 200);
}

window.onload = randomPhoto
</script>
